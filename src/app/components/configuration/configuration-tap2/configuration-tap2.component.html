<link rel="stylesheet" href="https://pro.fontawesome.com/releases/v6.0.0-beta1/css/all.css" integrity="tu-clave-de-api" crossorigin="anonymous">
<app-navbar></app-navbar>
<app-config-navbar [numberOption]="2"></app-config-navbar>
<div class="configuration-tap2-edit" *ngIf="modoEdicion">
    <div>
        <div class="column-2">
            <div class="titulo">
                <div>
                    <img class="imagen-titulo" src="../../../../assets/sucursal.svg">
                    <h2>SUCURSAL</h2>
                </div>
            </div>
            <div class="campos">
                <div>
                    <h4>Nombre</h4>
                    <input #nombreSucursalInput class="input" placeholder="Ingresa el nombre de tu sucursal">
                </div>
                <div class="error-message" #errorMessageSucursal>{{messageSucursal}}</div>
                <div style="height: 20px;"></div>
                <div>
                    <h4>Dirección</h4>
                    <input #direccionSucursalInput class="input" placeholder="Ingresa la dirección de tu sucursal">
                </div>
                <div class="right">
                    <app-my-button [isGreen]="true" (click)="agregarSucursal()">AGREGAR</app-my-button>
                </div>
            </div>
        </div>
        <div style="height: 15px;"></div>
        <div class="column-2">
            <div class="titulo">
                <div>
                    <img class="imagen-titulo" src="../../../../assets/area.svg">
                    <h2>ÁREA</h2>
                </div>
            </div>
            <div class="campos">
                <div>
                    <h4>Nombre</h4>
                    <input #nombreAreaInput class="input" placeholder="Ingresa el nombre del área">
                </div>
                <div class="error-message" #errorMessageArea>{{messageArea}}</div>
                <div class="right">
                    <app-my-button [isGreen]="true" (click)="agregarArea()">AGREGAR</app-my-button>
                </div>
            </div>
        </div>
    </div>
    <div class="tree-background">
        <div class="tree">
            <ul>
                <li *ngFor="let sucursal of sucursales">
                    <div style="display: flex;">
                        <button class="toggle" (click)="toggleChildren(sucursal)">
                            <i style="color: #757575;" class="fa-solid" [ngClass]="{'fa-caret-up': sucursal.mostrarHijos, 'fa-caret-down': !sucursal.mostrarHijos}"></i>
                        </button>                                               
                        <div class="area" style="margin: 0px;">
                            <span>{{sucursal.subsidiaryName}}</span>
                            <button class="circulo" style="margin: 0px;" (click)="eliminarSucursal(sucursal.subsidiaryName)">
                                <i class="fa-solid fa-x"></i>
                            </button>
                        </div>
                    </div>
                    <hr class="separator">
                    <ul *ngIf="sucursal.mostrarHijos">
                        <li *ngFor="let area of areas">
                            <div class="area">    
                                <span>{{area}}</span>
                                <button class="circulo" (click)="eliminarArea(area)">
                                    <i class="fa-solid fa-x"></i>
                                </button>
                            </div>
                        </li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>
    <div></div>
    <div class="right">
        <app-my-button [isGreen]="true" (click)="guardar()" style="margin-right: 10px;">GUARDAR CAMBIOS</app-my-button>
        <app-my-button [isRed]="true" (click)="cancelar()">CANCELAR</app-my-button>
    </div>
</div>
<div class="configuration-tap2" *ngIf="!modoEdicion">
    <div>
        <div class="titulo" style="min-height: 189px;">
            <div>
                <img class="imagen-titulo" src="../../../../assets/sucursal.svg">
                <h2>SUCURSAL</h2>
            </div>
        </div>
        <div style="height: 15px;"></div>
        <div class="titulo" style="min-height: 140px;">
            <div>
                <img class="imagen-titulo" src="../../../../assets/area.svg">
                <h2>ÁREA</h2>
            </div>
        </div>
    </div>
    <div class="tree-background" style="min-height: 344px;">
        <div class="tree">
            <ul>
                <li *ngFor="let sucursal of sucursales">
                    <div style="display: flex;">
                        <button class="toggle" (click)="toggleChildren(sucursal)">
                            <i style="color: #757575;" class="fa-solid" [ngClass]="{'fa-caret-up': sucursal.mostrarHijos, 'fa-caret-down': !sucursal.mostrarHijos}"></i>
                        </button>                                               
                        <div class="area" style="margin: 0px;">
                            <span>{{sucursal.subsidiaryName}}</span>
                        </div>
                    </div>
                    <hr class="separator">
                    <ul *ngIf="sucursal.mostrarHijos">
                        <li *ngFor="let area of areas">
                            <div class="area">    
                                <span>{{area}}</span>
                            </div>
                        </li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>
    <div></div>
    <div class="right">
        <button class="edit-button" (click)="editar()">
            <i class="fa-solid fa-pen"></i>
        </button>
    </div>
</div>