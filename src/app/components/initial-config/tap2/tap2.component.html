<link rel="stylesheet" href="https://pro.fontawesome.com/releases/v6.0.0-beta1/css/all.css" integrity="tu-clave-de-api" crossorigin="anonymous">
<div class="tap2">
    <div class="container">
        <h1 class="header-title">Configuración de la Empresa</h1>
        <hr class="separator">
        <app-progress [steps]="[1, 2, 3, 4]" [currentStep]="2"></app-progress>
        <div class="wrapper">
            <div>
                <hr class="separator">
                <div class="wrapper2">
                    <div><h2>SUCURSAL</h2></div>
                    <div>
                        <app-my-textfield type="text" [iconInput]="iconInputNombre" [label]="labelNombre" [control]="controlSubsidiaryName" [pattern]="patternAll" [errorMessage]="patternAllMessage" [placeholder]="placeholderSubsidiary"></app-my-textfield>
                        <div class="error-message" #errorMessageSucursal>{{messageSucursal}}</div>
                        <div style="height: 20px;"></div>
                        <app-my-textfield type="text" [iconInput]="iconInputDireccion" [label]="labelDireccion" [control]="controlSubsidiaryAddress" [pattern]="patternAll" [errorMessage]="patternAllMessage" [placeholder]="placeholderAddress"></app-my-textfield>
                    </div>
                </div>
                <div class="right">
                    <app-my-button [isGreen]="true" (click)="agregarSucursal()">AGREGAR</app-my-button>
                </div>
                <hr class="separator">
                <div class="wrapper2">
                    <div><h2>ÁREA</h2></div>
                    <div>
                        <app-my-textfield type="text" [iconInput]="iconInputArea" [label]="labelNombreArea" [control]="controlAreaName" [pattern]="patternAll" [errorMessage]="patternAllMessage" [placeholder]="placeholderArea"></app-my-textfield>
                        <div class="error-message" #errorMessageArea>{{messageArea}}</div>
                    </div>
                </div>
                <div class="right">
                    <app-my-button [isGreen]="true" (click)="agregarArea()">AGREGAR</app-my-button>
                </div>
                <hr class="separator">
            </div>
            <div class="tree">
                <ul>
                    <li *ngFor="let sucursal of sucursales">
                        <div style="display: flex;">
                            <button class="toggle" (click)="toggleChildren(sucursal)">
                                <i style="color: #757575;" class="fa-solid" [ngClass]="{'fa-caret-up': sucursal.mostrarHijos, 'fa-caret-down': !sucursal.mostrarHijos}"></i>
                            </button>                                               
                            <div class="area" style="margin: 0px;">
                                <span>{{sucursal.subsidiaryName}}</span>
                                <button class="circulo" style="margin: 0px;" (click)="eliminarSucursal(sucursal.subsidiaryName)">
                                    <i class="fa-solid fa-x"></i>
                                </button>
                            </div>
                        </div>
                        <hr class="separator">
                        <ul *ngIf="sucursal.mostrarHijos">
                            <li *ngFor="let area of areas">
                                <div class="area">    
                                    <span>{{area}}</span>
                                    <button class="circulo" (click)="eliminarArea(area)">
                                        <i class="fa-solid fa-x"></i>
                                    </button>
                                </div>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
        <div class="navigation">
            <div><a routerLink="/tap1">&lt;&lt; Atras</a></div>
            <div><a (click)="verificar()">Siguiente &gt;&gt;</a></div>
        </div>
        <!--<button (click)="printValue()">Imprimir valor</button>-->
    </div>
</div>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>